import{d as R,u as h,r as g,a as C,c as K,b as s,e as r,w as t,f as l,o as U,i as p,j as c,k as q,l as B,n as E,m as _,E as v,h as N,_ as z}from"./index-CGNwXxFr.js";const I={class:"login-wrapper"},M={class:"login-split"},S={class:"login-form-container"},j={class:"form-content"},G={class:"form-footer"},T=R({__name:"Register",setup(A){const b=N(),k=h(),u=g(),d=g(!1),o=C({username:"",password:"",nickname:""}),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:50,message:"用户名长度为3-50个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码至少6个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{max:100,message:"昵称最多100个字符",trigger:"blur"}]},n=async()=>{u.value&&await u.value.validate(async f=>{if(f){d.value=!0;try{await k.register(o.username,o.password,o.nickname),v.success("注册成功"),b.push("/")}catch(e){v.error(e.message||"注册失败")}finally{d.value=!1}}})};return(f,e)=>{const m=l("el-input"),i=l("el-form-item"),x=l("el-button"),y=l("router-link"),V=l("el-form");return U(),K("div",I,[s("div",M,[e[7]||(e[7]=s("div",{class:"login-visual"},[s("div",{class:"visual-content"},[s("h1",null,"加入 GoIM"),s("p",null,"开启您的即时通讯之旅")]),s("img",{src:"https://trae-api-sg.mchost.guru/api/ide/v1/text_to_image?prompt=abstract%20creative%20network%20connection%20colorful%20gradient%203d&image_size=portrait_16_9",alt:"Register Visual",class:"visual-bg"}),s("div",{class:"visual-overlay"})],-1)),s("div",S,[s("div",j,[e[6]||(e[6]=s("div",{class:"form-header"},[s("h2",null,"创建账号"),s("p",{class:"subtitle"},"填写以下信息完成注册")],-1)),r(V,{model:o,rules:w,ref_key:"formRef",ref:u,"label-position":"top",size:"large"},{default:t(()=>[r(i,{label:"用户名",prop:"username"},{default:t(()=>[r(m,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=a=>o.username=a),placeholder:"3-50个字符","prefix-icon":c(q),onKeyup:p(n,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,{label:"密码",prop:"password"},{default:t(()=>[r(m,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=a=>o.password=a),type:"password",placeholder:"至少6个字符","show-password":"","prefix-icon":c(B),onKeyup:p(n,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,{label:"昵称",prop:"nickname"},{default:t(()=>[r(m,{modelValue:o.nickname,"onUpdate:modelValue":e[2]||(e[2]=a=>o.nickname=a),placeholder:"显示名称","prefix-icon":c(E),onKeyup:p(n,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),r(i,null,{default:t(()=>[r(x,{type:"primary",onClick:n,loading:d.value,class:"submit-btn"},{default:t(()=>[...e[3]||(e[3]=[_(" 立即注册 ",-1)])]),_:1},8,["loading"])]),_:1}),s("div",G,[e[5]||(e[5]=s("span",{class:"text-gray"},"已有账号？",-1)),r(y,{to:"/login",class:"link-primary"},{default:t(()=>[...e[4]||(e[4]=[_("立即登录",-1)])]),_:1})])]),_:1},8,["model"])])])])])}}}),F=z(T,[["__scopeId","data-v-a35ffb44"]]);export{F as default};
