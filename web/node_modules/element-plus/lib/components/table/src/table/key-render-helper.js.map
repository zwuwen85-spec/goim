{"version":3,"file":"key-render-helper.js","sources":["../../../../../../../packages/components/table/src/table/key-render-helper.ts"],"sourcesContent":["import { onMounted, onUnmounted, ref } from 'vue'\n\nimport type { Table } from './defaults'\n\nexport default function useKeyRender(table: Table<[]>) {\n  const observer = ref<MutationObserver>()\n\n  const initWatchDom = () => {\n    const el = table.vnode.el\n    const columnsWrapper = (el as HTMLElement).querySelector('.hidden-columns')\n    const config = { childList: true, subtree: true }\n    const updateOrderFns = table.store.states.updateOrderFns\n    observer.value = new MutationObserver(() => {\n      updateOrderFns.forEach((fn: () => void) => fn())\n    })\n\n    observer.value.observe(columnsWrapper!, config)\n  }\n\n  onMounted(() => {\n    // fix https://github.com/element-plus/element-plus/issues/8528\n    initWatchDom()\n  })\n\n  onUnmounted(() => {\n    observer.value?.disconnect()\n  })\n}\n"],"names":["ref","onMounted","onUnmounted"],"mappings":";;;;;;AAIA,SAAwB,aAAa,KAAkB,EAAA;AACrD,EAAA,MAAM,WAAWA,OAAsB,EAAA,CAAA;AAEvC,EAAA,MAAM,eAAe,MAAM;AACzB,IAAM,MAAA,EAAA,GAAK,MAAM,KAAM,CAAA,EAAA,CAAA;AACvB,IAAM,MAAA,cAAA,GAAkB,EAAmB,CAAA,aAAA,CAAc,iBAAiB,CAAA,CAAA;AAC1E,IAAA,MAAM,MAAS,GAAA,EAAE,SAAW,EAAA,IAAA,EAAM,SAAS,IAAK,EAAA,CAAA;AAChD,IAAM,MAAA,cAAA,GAAiB,KAAM,CAAA,KAAA,CAAM,MAAO,CAAA,cAAA,CAAA;AAC1C,IAAS,QAAA,CAAA,KAAA,GAAQ,IAAI,gBAAA,CAAiB,MAAM;AAC1C,MAAA,cAAA,CAAe,OAAQ,CAAA,CAAC,EAAmB,KAAA,EAAA,EAAI,CAAA,CAAA;AAAA,KAChD,CAAA,CAAA;AAED,IAAS,QAAA,CAAA,KAAA,CAAM,OAAQ,CAAA,cAAA,EAAiB,MAAM,CAAA,CAAA;AAAA,GAChD,CAAA;AAEA,EAAAC,aAAA,CAAU,MAAM;AAEd,IAAa,YAAA,EAAA,CAAA;AAAA,GACd,CAAA,CAAA;AAED,EAAAC,eAAA,CAAY,MAAM;AAxBpB,IAAA,IAAA,EAAA,CAAA;AAyBI,IAAA,CAAA,EAAA,GAAA,QAAA,CAAS,UAAT,IAAgB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,UAAA,EAAA,CAAA;AAAA,GACjB,CAAA,CAAA;AACH;;;;"}